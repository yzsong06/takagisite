{"version":3,"file":"XiGua.js","sources":["../../../src/client/components/XiGua.ts"],"sourcesContent":["/* eslint-disable vue/no-unused-properties */\nimport { type VNode, computed, defineComponent, h } from \"vue\";\n\nimport { useSize } from \"../composables/index.js\";\nimport { videoIframeAllow } from \"../utils/index.js\";\n\nimport \"../styles/xi-gua.scss\";\n\nexport default defineComponent({\n  name: \"XiGua\",\n\n  props: {\n    /**\n     * XiGua video id\n     *\n     * 西瓜视频 ID\n     */\n    id: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * XiGua video title\n     *\n     * 西瓜视频标题\n     */\n    title: {\n      type: String,\n      default: \"A XiGua video\",\n    },\n\n    /**\n     * Component width\n     *\n     * 组件宽度\n     */\n    width: {\n      type: [String, Number],\n      default: \"100%\",\n    },\n\n    /**\n     * Component height\n     *\n     * 组件高度\n     */\n    height: {\n      type: [String, Number],\n      default: undefined,\n    },\n\n    /**\n     * Component width / height ratio\n     *\n     * 组件长宽比\n     */\n    ratio: {\n      type: [String, Number],\n      default: 16 / 9,\n    },\n\n    /**\n     * Start time in seconds\n     *\n     * 基于秒数的开始时间\n     */\n    time: {\n      type: [String, Number],\n      default: 0,\n    },\n\n    /**\n     * Auto play\n     *\n     * 自动播放\n     */\n    autoplay: Boolean,\n  },\n\n  setup(props) {\n    const { el, width, height } = useSize<HTMLIFrameElement>(props);\n\n    const videoLink = computed(\n      () =>\n        `https://www.ixigua.com/iframe/${props.id}?startTime=${\n          props.time\n        }&autoplay=${props.autoplay ? 1 : 0}`\n    );\n\n    return (): VNode[] => [\n      h(\n        \"div\",\n        { class: \"xi-gua-desc\" },\n        h(\"a\", { class: \"sr-only\", href: videoLink.value }, props.title)\n      ),\n      h(\"iframe\", {\n        ref: el,\n        src: videoLink.value,\n        title: props.title,\n        class: \"xi-gua-iframe\",\n        allow: videoIframeAllow,\n        style: {\n          width: width.value,\n          height: height.value,\n        },\n      }),\n    ];\n  },\n});\n"],"names":["defineComponent","props","el","width","height","useSize","videoLink","computed","h","videoIframeAllow"],"mappings":"8NAQA,IAAeA,EAAAA,EAAgB,CAC7B,KAAM,QAEN,MAAO,CAML,GAAI,CACF,KAAM,OACN,SAAU,EACZ,EAOA,MAAO,CACL,KAAM,OACN,QAAS,eACX,EAOA,MAAO,CACL,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,MACX,EAOA,OAAQ,CACN,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,MACX,EAOA,MAAO,CACL,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,GAAK,CAChB,EAOA,KAAM,CACJ,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,CACX,EAOA,SAAU,OACZ,EAEA,MAAMC,EAAO,CACX,KAAM,CAAE,GAAAC,EAAI,MAAAC,EAAO,OAAAC,CAAO,EAAIC,EAA2BJ,CAAK,EAExDK,EAAYC,EAChB,IACE,iCAAiCN,EAAM,gBACrCA,EAAM,iBACKA,EAAM,SAAW,EAAI,GACtC,EAEA,MAAO,IAAe,CACpBO,EACE,MACA,CAAE,MAAO,aAAc,EACvBA,EAAE,IAAK,CAAE,MAAO,UAAW,KAAMF,EAAU,KAAM,EAAGL,EAAM,KAAK,CACjE,EACAO,EAAE,SAAU,CACV,IAAKN,EACL,IAAKI,EAAU,MACf,MAAOL,EAAM,MACb,MAAO,gBACP,MAAOQ,EACP,MAAO,CACL,MAAON,EAAM,MACb,OAAQC,EAAO,KACjB,CACF,CAAC,CACH,CACF,CACF,CAAC"}